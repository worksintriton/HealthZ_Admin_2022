<section *ngIf="dropdownslist != undefined">
    <div class="page-header">
        <div>
            <h2 class="main-content-title tx-24 mb-1" *ngIf="type == 'create'">Doctor Create</h2>
            <h2 class="main-content-title tx-24 mb-1" *ngIf="type == 'edit'">Edit Doctor Details</h2>
            <!-- <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item active" aria-current="page"> Details</li>
            </ol> -->
        </div>

        <div class="d-flex">
            <button class="btn btn-sm btn-secondary " (click)="back()"> <i class="fas fa-arrow-left ml-1" aria-hidden="true"></i> Back</button>
        </div>
    </div>





<div class="card-box" >
    <div class="row" style="padding: 0px 0px 23px 10px;">
      <div class="row" *ngIf="stage1">
        <div class="col-md-6">
            <h5 class="form-lable">First Name :</h5>
            <input type="text" pInputText [(ngModel)]="tittle" placeholder="First Name">
        </div>
        <div class="col-md-6">
            <h5 class="form-lable">Last Name:</h5>
            <input type="text" pInputText [(ngModel)]="Name" placeholder="Last Name" >
        </div>
        <div class="col-md-6">
            <h5 class="form-lable">Email ID:</h5>
            <input type="text" pInputText [(ngModel)]="Email" (ngModelChange)="EmailidChange($event)" [disabled] ="type == 'edit'"
                placeholder="Email ID" >
            <div *ngIf="Email_idError" class="mt-1 error">
                <div class="text-danger">Valid Email Address Required.</div>
            </div>
            <div *ngIf="Validation == false && Email_id == undefined" class="mt-1 error">
                <div class="text-danger">Valid Email Address Required.</div>
            </div>
        </div>
        <div class="col-md-6">
            <h5 class="form-lable">Phone Number:</h5>
            <input type="text" pInputText [(ngModel)]="Phone" placeholder="Phone Number" maxlength="10"  [disabled] ="type == 'edit'"
                (keypress)=_keyPress($event)>
            <div *ngIf="Validation == false && (Phone == undefined || Phone == ''  || Phone.length != 10)"
                class="mt-1 error">
                <div class="text-danger">Phone Number is Required.</div>
            </div>
        </div>
        <div class="col-md-12 mt-20" *ngIf="userid == undefined">
            <button type="button" class="btn btn-primary" (click)="create_1()">Save</button>
            <button type="button" class="btn btn-primary btn-bg-blue" (click)="cancel()">Cancel</button>
        </div>
      </div>


      <div *ngIf="stage2">
        <ng-container >
          <div class="col-md-12">
            <div class="row">
              <div class="col-md-12" style="margin-top: 15px;">
                <h4 class="title">Doctor Business Info</h4>
              </div>
              <div class="col-md-5">
                <h5 class="form-lable">Clinic Number : <span style="color: red;font-size: large;">*</span></h5>
                <input type="text" pInputText [(ngModel)]="clinic_number" placeholder="Clinic Number">
              </div>
              <div class="col-md-5">
                <h5 class="form-lable">Doctor ID : <span style="color: red;font-size: large;">*</span></h5>
                <input type="text" pInputText [(ngModel)]="doctor_id" placeholder="Doctor ID">
              </div>

              <div class="col-md-5">
                <h5 class="form-lable">Clinic Name : <span style="color: red;font-size: large;">*</span></h5>
                <input type="text" pInputText [(ngModel)]="Clinic_Name" placeholder="Clinic Name">
            </div>

            <div class="col-md-5">
              <h5 class="form-lable">Select Communication Type : <span style="color: red;font-size: large;">*</span></h5>
              <select name="cars" id="cars" [(ngModel)]="communication_type">
                <option value="" disabled>Select type</option>
                <option value="Online">Online</option>
                <option value="Visit">Visit</option>
                <option value="Online Or Visit">Online Or Visit</option>
              </select>
            </div>

            <div class="col-md-10">
              <h5 class="form-lable">About Doctor : <span style="color: red;font-size: large;">*</span></h5>
              <textarea type="text" pInputText [(ngModel)]="about_doctor" placeholder="About Doctor"></textarea>
            </div>





              </div>
            </div>

             <hr>

            <div class="col-md-12">
                <div class="row">
                    <div class="col-md-5">
                        <h5 class="form-lable">Education: <span style="color: red;font-size: large;">*</span></h5>
                        <input type="text" pInputText [(ngModel)]="Education" placeholder="Education">
                    </div>
                    <div class="col-md-5">
                        <h5 class="form-lable">Year of completion:</h5>

                        <select  [(ngModel)]="completion" >
                          <option value='undefined' disabled>Select year</option>
                          <option  *ngFor="let arr of year_list ; let i= index;">
                              {{arr}}
                          </option>
                      </select>
                        <!-- <input type="" pInputText [(ngModel)]="completion" placeholder="Completion"> -->
                    </div>
                    <div class="col-md-2 text-right">
                        <i class="fa fa-plus add-icon" (click)="addcompletion()" aria-hidden="true" pTooltip="Add"></i>
                    </div>
                </div>
                <table *ngIf="Completionarray.length > 0 " class="spec-table">
                    <thead>
                        <th>S.No</th>
                        <th>Education</th>
                        <th>Year of completion</th>
                        <th>Remove</th>
                    </thead>
                    <tbody>
                        <tr *ngFor="let arr of Completionarray ; let i= index;">
                            <td>{{i+1}}</td>
                            <td>{{arr.education}}</td>
                            <td>{{arr.year}}</td>
                            <td><i style="color: #fd2c3a;" class="fa fa-trash" aria-hidden="true" pTooltip="Delete"
                                    (click)="remove_completion(i)"></i></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <hr>

            <div class="col-md-12">
                <div class="row">
                    <div class="col-md-12">
                        <h5 class="form-lable" style="font-weight: 600;">Experience <span style="color: red;font-size: large;">*</span></h5>
                    </div>
                    <div class="col-md-4">
                        <h5 class="form-lable">Company:</h5>
                        <input type="text" pInputText [(ngModel)]="CName" placeholder="Company Name">
                    </div>
                    <div class="col-md-3">
                        <h5 class="form-lable">From:</h5>
                        <select  [(ngModel)]="f_date" >
                          <option value='undefined' disabled>Select year</option>
                          <option  *ngFor="let arr of year_list ; let i= index;">
                              {{arr}}
                          </option>
                      </select>

                        <!-- <p-calendar [(ngModel)]="f_date" [showIcon]="true" inputId="icon"></p-calendar> -->
                    </div>
                    <div class="col-md-3">
                        <h5 class="form-lable">To:</h5>
                        <select  [(ngModel)]="T_date" >
                          <option value='undefined' disabled>Select year</option>
                          <option  *ngFor="let arr of year_list ; let i= index;">
                              {{arr}}
                          </option>
                      </select>

                        <!-- <p-calendar [(ngModel)]="T_date" [showIcon]="true" inputId="icon"></p-calendar> -->
                    </div>
                    <div class="col-md-2 text-right">
                        <i class="fa fa-plus add-icon" (click)="addExperience()" aria-hidden="true" pTooltip="Add"></i>
                    </div>


                </div>
                <table *ngIf="Experiencearray.length > 0 " class="spec-table">
                    <thead>
                        <th>S.No</th>
                        <th>Company</th>
                        <th>From Date</th>
                        <th>To Date</th>
                        <th>Exp</th>
                        <th>Remove</th>
                    </thead>
                    <tbody>
                        <tr *ngFor="let arr of Experiencearray ; let i= index;">
                            <td>{{i+1}}</td>
                            <td>{{arr.company}}</td>
                            <td>{{arr.from}}</td>
                            <td>{{arr.to}}</td>
                            <td>{{arr.yearsofexperience}}</td>
                            <td><i style="color: #fd2c3a;" class="fa fa-trash" aria-hidden="true" pTooltip="Delete"
                                    (click)="remove_Experience(i)"></i></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <hr>

            <div class="col-md-6">
                <div class="row">
                    <div class="col-md-10">
                        <h5 class="form-lable">Specialization : <span style="color: red;font-size: large;">*</span></h5>
                        <select  [(ngModel)]="Specialization" >
                            <option value='undefined' style="display:none;">Select Specialization</option>
                            <option  *ngFor="let arr of dropdownslist.specialzation ; let i= index;">
                                {{arr.specialzation}}
                            </option>
                        </select>
                        <!-- <input type="text" pInputText [(ngModel)]="Specialization" placeholder="Specialization"> -->
                    </div>
                    <div class="col-md-2 text-right">
                        <i class="fa fa-plus add-icon" (click)="addSpecialization()" aria-hidden="true"
                            pTooltip="Add"></i>
                    </div>


                </div>
                <table *ngIf="Specializationarray.length > 0 " class="spec-table">
                    <thead>
                        <th>S.No</th>
                        <th>Specialization</th>
                        <th>Remove</th>
                    </thead>
                    <tbody>
                        <tr *ngFor="let arr of Specializationarray ; let i= index;">
                            <td>{{i+1}}</td>
                            <td>{{arr.specialization}}</td>
                            <td><i style="color: #fd2c3a;" class="fa fa-trash" aria-hidden="true" pTooltip="Delete"
                                    (click)="remove_Specialization(i)"></i></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <hr>

            <div class="row col-md-12">
            <div class="col-md-5">
                <h5 class="form-lable">Clinic Location :  <span style="color: red;font-size: large;">*</span></h5>
                <input [(ngModel)]="address" style="padding:10px; width:75%" ngx-google-places-autocomplete [options]='options' #placesRef="ngx-places" (onAddressChange)="handleAddressChange($event)"/>
            </div>
            <div class="col-md-5">
              <h5 class="form-lable">City Name :  <span style="color: red;font-size: large;">*</span></h5>
              <input [(ngModel)]="city_name" style="padding:10px; width:75%"/>
          </div>
          </div>
            <br>
            <div class="col-md-12">
            <div class="map">
                <agm-map
                    [latitude]="base_lat"
                    [longitude]="base_lng"
                    [zoom]="zoom"
                    [disableDefaultUI]="false"
                    [zoomControl]="false">

                    <agm-marker
                        [latitude]="location_lat"
                        [longitude]="location_lng"
                        [markerDraggable]="true"
                        (dragEnd)="markerDragEnd($event)">

                        <agm-info-window>
                        <strong>{{address}}</strong>
                        </agm-info-window>
                    </agm-marker>
                </agm-map>
            </div>
            </div>

            <hr>

            <div class="col-md-12">
                <div class="row">
                    <div class="col-md-6" style="margin-bottom: 15px;">
                        <h5 class="form-lable">Clinic Image :</h5>
                        <input type="file" #imgType (change)="fileupload($event,'Clinic')" id="imgfile"
                            accept=".png, .jpg, .jpeg, .pdf" class="form-control" id="city" placeholder="User type icon">
                            <p style="font-size: 12px;color: gray;text-align: right;">Note : Upload only pdf or Image(jpeg, png, jpg) max 2 mb </p>
                        <!-- <div style="font-size: 11px;text-align: right;color: gray;font-weight: 600;">Upload the user type icon with 100 * 100 (Max 200 kB)</div> -->
                        <!-- <img *ngIf="img_path != undefined" src="{{img_path}}" style="width: 20px;"> -->
                        <!-- <i class="fa fa-plus add-icon" (click)="addhandled()" aria-hidden="true" pTooltip="Add"></i> -->
                        <table *ngIf="clinic_arr.length > 0 " class="spec-table" style="margin-top: 8px;">
                            <thead>
                                <th>S.No</th>
                                <th>Clinic Image</th>
                                <th>Remove</th>
                            </thead>
                            <tbody>
                                <tr *ngFor="let arr of clinic_arr ; let i= index;">
                                    <td>{{i+1}}</td>
                                    <td><img src="{{arr.clinic_pic}}" style="width: 20px;"></td>

                                    <td><i style="color: #fd2c3a;" class="fa fa-trash" aria-hidden="true"
                                            pTooltip="Delete" (click)="remove_clinic_img(i)"></i></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="col-md-6" style="margin-bottom: 15px;">
                      <h5 class="form-lable">Thumb Image:</h5>
                      <input type="file" #imgType (change)="fileupload($event,'thumbnail_img')" id="imgfile"
                          accept=".png, .jpg, .jpeg, .pdf" class="form-control" id="city" placeholder="User type icon">
                          <p style="font-size: 12px;color: gray;text-align: right;">Note : Upload only Image(jpeg, png, jpg) 200 X 200</p>

                      <!-- <div style="font-size: 11px;text-align: right;color: gray;font-weight: 600;">Upload the user type icon with 100 * 100 (Max 200 kB)</div> -->
                      <img *ngIf="thumbnail_image != undefined" src="{{thumbnail_image}}" style="width: 25%;">
                      <!-- <i class="fa fa-plus add-icon" (click)="addhandled()" aria-hidden="true" pTooltip="Add"></i> -->
                  </div>

                    <div class="col-md-6" style="margin-bottom: 15px;">
                        <h5 class="form-lable">Govt ID proof:</h5>
                        <input type="file" #imgType (change)="fileupload($event,'Govt')" id="imgfile"
                            accept=".png, .jpg, .jpeg, .pdf" class="form-control" id="city" placeholder="User type icon">
                            <p style="font-size: 12px;color: gray;text-align: right;">Note : Upload only pdf or Image(jpeg, png, jpg) max 2 mb </p>

                            <!-- <div style="font-size: 11px;text-align: right;color: gray;font-weight: 600;">Upload the user type icon with 100 * 100 (Max 200 kB)</div> -->
                        <!-- <img *ngIf="img_path != undefined" src="{{img_path}}" style="width: 20px;"> -->

                        <!-- <i class="fa fa-plus add-icon" (click)="addhandled()" aria-hidden="true" pTooltip="Add"></i> -->
                        <table *ngIf="govt_arr.length > 0 " class="spec-table" style="margin-top: 8px;">
                            <thead>
                                <th>S.No</th>
                                <th>Govt ID proof</th>
                                <th>Remove</th>
                            </thead>
                            <tbody>
                                <tr *ngFor="let arr of govt_arr ; let i= index;">
                                    <td>{{i+1}}</td>
                                    <td><img src="{{arr.govt_id_pic}}" style="width: 20px;"></td>

                                    <td><i style="color: #fd2c3a;" class="fa fa-trash" aria-hidden="true"
                                            pTooltip="Delete" (click)="remove_govt_img(i)"></i></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-md-6">
                        <h5 class="form-lable">Photo ID proof:</h5>
                        <input type="file" #imgType (change)="fileupload($event,'Photo')" id="imgfile"
                            accept=".png, .jpg, .jpeg, .pdf" class="form-control" id="city" placeholder="User type icon">
                            <p style="font-size: 12px;color: gray;text-align: right;">Note : Upload only pdf or Image(jpeg, png, jpg) max 2 mb </p>

                            <!-- <div style="font-size: 11px;text-align: right;color: gray;font-weight: 600;">Upload the user type icon with 100 * 100 (Max 200 kB)</div> -->
                        <!-- <img *ngIf="img_path != undefined" src="{{img_path}}" style="width: 20px;"> -->
                        <!-- <i class="fa fa-plus add-icon" (click)="addhandled()" aria-hidden="true" pTooltip="Add"></i> -->
                        <table *ngIf="photo_arr.length > 0 " class="spec-table" style="margin-top: 8px;">
                            <thead>
                                <th>S.No</th>
                                <th>Photo ID proof</th>
                                <th>Remove</th>
                            </thead>
                            <tbody>
                                <tr *ngFor="let arr of photo_arr ; let i= index;">
                                    <td>{{i+1}}</td>
                                    <td><img src="{{arr.photo_id_pic}}" style="width: 20px;"></td>
                                    <td><i style="color: #fd2c3a;" class="fa fa-trash" aria-hidden="true"
                                            pTooltip="Delete" (click)="remove_photo_img(i)"></i></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-md-6">
                        <h5 class="form-lable">Certificate:</h5>
                        <input type="file" #imgType (change)="fileupload($event, 'Certificate')" id="imgfile"
                            accept=".png, .jpg, .jpeg, .pdf" class="form-control" id="city" placeholder="User type icon">
                            <p style="font-size: 12px;color: gray;text-align: right;">Note : Upload only pdf or Image(jpeg, png, jpg) max 2 mb </p>
                            <!-- <div style="font-size: 11px;text-align: right;color: gray;font-weight: 600;">Upload the user type icon with 100 * 100 (Max 200 kB)</div> -->
                        <!-- <img *ngIf="img_path != undefined" src="{{img_path}}" style="width: 20px;"> -->
                        <!-- <i class="fa fa-plus add-icon" (click)="addhandled()" aria-hidden="true" pTooltip="Add"></i> -->
                        <table *ngIf="certificate_arr.length > 0 " class="spec-table" style="margin-top: 8px;">
                            <thead>
                                <th>S.No</th>
                                <th>Certificate</th>
                                <th>Remove</th>
                            </thead>
                            <tbody>
                                <tr *ngFor="let arr of certificate_arr ; let i= index;">
                                    <td>{{i+1}}</td>
                                    <td><img src="{{arr.certificate_pic}}" style="width: 20px;"></td>
                                    <td><i style="color: #fd2c3a;" class="fa fa-trash" aria-hidden="true"
                                            pTooltip="Delete" (click)="remove_Certificate_img(i)"></i></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="col-md-6">
                      <h5 class="form-lable">Consultance Fee : <span style="color: red;font-size: large;">*</span></h5>
                      <input type="number" pInputText [(ngModel)]="consultancy_fees" placeholder="consultance fee">
                  </div>
                </div>
            </div>
            <div class="col-md-12 mt-20">
                <button type="button" *ngIf="type == 'create'" class="btn btn-primary" (click)="create()">Save</button>
                <button type="button" *ngIf="type == 'edit'" class="btn btn-primary" (click)="edit()">Update</button>
            </div>
        </ng-container>
        </div>




    </div>
</div>
</section>
